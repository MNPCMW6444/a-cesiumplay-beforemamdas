<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.95/Build/Cesium/Cesium.js"></script>
    <link
      href="https://cesium.com/downloads/cesiumjs/releases/1.95/Build/Cesium/Widgets/widgets.css"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" />
  </head>
  <body>
    <div id="cesiumContainer"></div>
    <script>
      /*   const bases = viewer.scene.primitives.add(
         new Cesium.BillboardCollection()
       );
       const tracks = viewer.scene.primitives.add(
         new Cesium.BillboardCollection()
       );
       basesData.map((baseData) => {
         bases.add({
           position: new Cesium.Cartesian3.fromDegrees(
             baseData.stateVector.position.longitude * 60,
             baseData.stateVector.position.latitude * 60
           ),
           image: baselmg,
           scale: 0.4,
         });
       });

       tracksData.map((trackData) => {
         tracks.add({
           position: new Cesium.Cartesian3.fromDegrees(
             trackData.stateVector.position.longitude * 60,
             trackData.stateVector.position.latitude * 60
           ),
           image: tracklmg,
           color:
             trackData.abtData.aircraftDetails.homeBase === "Israel"
               ? Cesium.Color.GREEN
               : trackData.abtData.aircraftDetails.homeBase === "England"
               ? Cesium.Color.YELLOW
               : Cesium.Color.RED,
           scale: 0.4,
         });
       }); */
      /*
           const labels = viewer.scene.primitives.add(new Cesium.Cartesian3.fromDegrees(La
           belCollection);
           basesData.map((baseData) => {
           });
           labels.add({
           position: new Cesium.Cartesian3.fromDegrees(
           });
           baseData.stateVector.position.longitude*60,
           baseData.stateVector.position.latitude*60
           ),
           pixelOffset: new Cesium.Cartesian2(20,20),
           text: baseData.baseld.toString(),
           font: "16px sans-serif"
           tracksData.map((trackData) => { */
      const viewer = new Cesium.Viewer("cesiumContainer");
      const tracks = viewer.scene.primitives.add(
        new Cesium.BillboardCollection()
      );

      const labels = viewer.scene.primitives.add(new Cesium.LabelCollection);

      let tracksData = [
        {
          stateVector: {
            callSing: "Faf",
            position: { longitude: 0.6, latitude: 0.9 },
          },
          abtData: { aircraftDetails: { homeBase: "Faf" } },
        },
        {
          stateVector: {
            callSing: "Syria",
            position: { longitude: 0.7, latitude: 0.9 },
          },
          abtData: { aircraftDetails: { homeBase: "Syria" } },
        },
        {
          stateVector: {
            callSing: "Tailand",
            position: { longitude: 0.8, latitude: 0.9 },
          },
          abtData: { aircraftDetails: { homeBase: "Tailand" } },
        },
      ];

      let image = "/assets/track.png";

      tracksData.map((trackData) => {
        tracks.add({
          position: new Cesium.Cartesian3.fromDegrees(
            trackData.stateVector.position.longitude * 60,
            trackData.stateVector.position.latitude * 60
          ),
          image: image,
          color:
            trackData.abtData.aircraftDetails.homeBase === "Faf"
              ? Cesium.Color.YELLOW
              : trackData.abtData.aircraftDetails.homeBase === "Syria"
              ? Cesium.Color.RED
              : Cesium.Color.ORANGE,
          scale: 0.01,
        });
        labels.add({
          position: new Cesium.Cartesian3.fromDegrees(
            trackData.stateVector.position.longitude * 60,
            trackData.stateVector.position.latitude * 60
          ),
          pixelOffset: new Cesium.Cartesian2(20, 20),
          text: trackData.callSing,
        });
      });
    </script>
  </body>
</html>
